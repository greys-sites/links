{"version":3,"file":"6-e5ae86c0.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/login/_page.server.js","../../../.svelte-kit/adapter-node/nodes/6.js"],"sourcesContent":["import { r as redirect, f as fail } from \"../../../chunks/index.js\";\nimport \"../../../chunks/singletons.js\";\nimport axios from \"axios\";\nimport { A as API } from \"../../../chunks/private.js\";\nconsole.log(API);\nfunction load({ cookies }) {\n  var u = cookies.get(\"user\");\n  if (u)\n    throw redirect(308, \"/dash\");\n}\nconst actions = {\n  login: async ({ cookies, request }) => {\n    console.log(request);\n    var d = await request.formData();\n    console.log(d);\n    var tk = d.get(\"token\");\n    try {\n      var u = await axios.get(API + \"/users\", {\n        headers: {\n          \"Authorization\": tk\n        }\n      });\n      if (u) {\n        cookies.set(\"user\", tk);\n      } else\n        return fail(401, {\n          error: \"Token is incorrect.\"\n        });\n    } catch (e) {\n      console.log(e);\n      return fail(401, {\n        success: false,\n        status: 401,\n        message: \"Token is incorrect.\"\n      });\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/login/_page.server.js';\n\nexport const index = 6;\nexport const component = async () => (await import('../entries/pages/login/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/login/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/6.2c14e8a8.js\",\"_app/immutable/chunks/index.9c9e698c.js\",\"_app/immutable/chunks/toasts.25852f94.js\",\"_app/immutable/chunks/index.a7151f55.js\",\"_app/immutable/chunks/forms.58d63d22.js\",\"_app/immutable/chunks/parse.d12b0d5b.js\",\"_app/immutable/chunks/singletons.b7483f1b.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;AAIA,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACjB,SAAS,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AAC3B,EAAE,IAAI,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC9B,EAAE,IAAI,CAAC;AACP,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AACjC,CAAC;AACD,MAAM,OAAO,GAAG;AAChB,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AACzC,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACzB,IAAI,IAAI,CAAC,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AACrC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACnB,IAAI,IAAI,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC5B,IAAI,IAAI;AACR,MAAM,IAAI,CAAC,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,QAAQ,EAAE;AAC9C,QAAQ,OAAO,EAAE;AACjB,UAAU,eAAe,EAAE,EAAE;AAC7B,SAAS;AACT,OAAO,CAAC,CAAC;AACT,MAAM,IAAI,CAAC,EAAE;AACb,QAAQ,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AAChC,OAAO;AACP,QAAQ,OAAO,IAAI,CAAC,GAAG,EAAE;AACzB,UAAU,KAAK,EAAE,qBAAqB;AACtC,SAAS,CAAC,CAAC;AACX,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrB,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE;AACvB,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,MAAM,EAAE,GAAG;AACnB,QAAQ,OAAO,EAAE,qBAAqB;AACtC,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH,CAAC;;;;;;;;ACnCW,MAAC,KAAK,GAAG,EAAE;AACX,MAAC,SAAS,GAAG,YAAY,CAAC,MAAM,OAAO,4BAAwC,CAAC,EAAE,QAAQ;AAE1F,MAAC,SAAS,GAAG,mCAAmC;AAChD,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,yCAAyC,CAAC,0CAA0C,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,8CAA8C,EAAE;AACpT,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}